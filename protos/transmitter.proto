syntax = "proto3";
package protos;
option csharp_namespace = "LanDataTransmitter";

service Transmitter {
    rpc Ping (PingRequest) returns (PingReply);
    rpc Stop (StopRequest) returns (StopReply);
    rpc PushText (PushTextRequest) returns (PushTextReply); // C -> S
    rpc PullText (PullTextRequest) returns (stream PullTextReply); // C <- S
}

// Ping

message PingRequest {
    string message = 1;
}

message PingReply {
    bool accepted = 1;
    string id = 2;
}

// Stop

message StopRequest {
    string id = 1;
}

message StopReply {
    bool accepted = 1;
}

// PushText

message PushTextRequest {
    string id = 1;
    string message = 2;
}

message PushTextReply {
    bool accepted = 1;
}

// PullText

message PullTextRequest {
    string id = 1;
}

message PullTextReply {
    bool closing = 1;
    string message = 2;
}
